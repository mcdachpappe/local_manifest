This is the local manifest for MSM-Xtended for oneplus3/t.

git clone this wherever you want and make symblic links to .repo/local_manifest for xml file/files.

# Some explanation:
  oneplus3t.xml: imports all neccessary files (including blobs and toolchains) to build rr for op3/t
  zz-remove-unused.xml: removes darwin build environment; it's not mandatory, but makes syncs smaller

  rompick.sh: example of a simple script to apply some patches (rom)
  kernelpick.sh: example of a simple script to apply some patches (kernel)
  buildrom.sh: example of a simple build script (rom)
  buildkernel.sh: example of a simple build script (kernel)
  reset.sh: example of a simple script to clean your repo/base
  anykernel.sh: example of a simple script to turn your kernel file into a flashable .zip


#######################
# General preperation #
#######################

# os: 
  Ubuntu 18.04

# required libaries:
  $ sudo apt-get update && sudo apt-get install automake bc bin86 bison build-essential bzip2 ccache curl flex g++-multilib gcc-multilib git git-core gksu gnupg gperf imagemagick kernel-package lib32ncurses5-dev lib32readline6-dev lib32readline-gplv2-dev libbz2-dev libbz2-1.0 libc6-dev libghc-bzlib-dev lib32z1-dev libesd0-dev liblz4-tool libncurses5-dev libncurses5 libsdl1.2-dev libssl-dev libwxgtk3.0-dev libxml2 libxml2-utils lzop make maven ncftp openjdk-8-jre openjdk-8-jdk pngcrush rsync tmux qt4-dev-tools schedtool screen squashfs-tools w3m xsltproc zip zlib1g-dev zlib1g-dev:i386

# depencies:
  sudo apt install -f

# add java jdk8:
  sudo apt-get update
  sudo apt-get install openjdk-8-jdk
  sudo apt-get upgrade


###################
# Shell commands: #
###################

# get the repo command; put it in some directory in your $PATH
  sudo curl https://storage.googleapis.com/git-repo-downloads/repo -o /usr/local/bin/repo
  sudo chmod a+x /usr/local/bin/repo

# cd /where/you/want/to/your/source-tree
  mkdir -p msmx/my_tmp
  cd rr-6
  repo init -u https://github.com/Project-Xtended/manifest.git -b xtended
  cd my_tmp
  git clone https://github.com/mcdachpappe/local_manifest.git
  cd local_manifest
  git checkout msmx
  cd ../../.repo
  mkdir local_manifests
  cd local_manifests
  ln -s ../../my_tmp/local_manifest/oneplus3.xml .
  ln -s ../../my_tmp/local_manifest/zz-remove-unused.xml .
  cd ../..
  ln -s my_tmp/local_manifest/buildrom.sh ./buildrom
  ln -s my_tmp/local_manifest/buildkernel.sh ./buildkernel
  ln -s my_tmp/local_manifest/rompick.sh ./rompick
  ln -s my_tmp/local_manifest/kernelpick.sh ./kernelpick
  ln -s my_tmp/local_manifest/reset.sh ./reset
  ln -s my_tmp/local_manifest/anykernel.sh ./anykernel


######################################
# Syncing (aka download) the sources #
######################################

# Shell command:
# this takes some time; it's about 70GB to fetch
  repo sync -j8 -c -f --force-sync --no-clone-bundle --no-tags --optimized-fetch --prune


########################
# Building MSM-Xtended #
########################

# Shell command:
  ./buildrom

If everything worked wirhout errors, you will get a flashable zip in
  out/target/product/oneplus3/

If not, check make.log for errors.


Congrats, you have just build your own rom!

