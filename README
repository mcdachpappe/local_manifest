This is the local manifest for mlos/LineageOS cm-14.1 for oneplus3t.

The repo is optimized for oneplus3t and does NOT work
for oneplus3.

git clone this wherever you want and make symblic links
to .repo/local_manifest for xml file/files.

oneplus3t.xml: imports all neccessary files (including
               blobs and toolchains) to build laos for op3t

zz-remove-unused.xml: removes darwin build environment;
                      it's not mandatory, but makes syncs
		      smaller

my_build.sh: example of a simple build script


General preperation
-------------------

https://askubuntu.com/questions/9540/how-do-i-change-the-computer-name

libaries:
sudo apt-get install bc bison build-essential curl ccache flex g++-multilib gcc-multilib gksu gnupg gperf git imagemagick lib32ncurses5-dev lib32readline6-dev lib32z1-dev libesd0-dev liblz4-tool libncurses5-dev libsdl1.2-dev libssl-dev libwxgtk3.0-dev libxml2 libxml2-utils lzop pngcrush repo rsync schedtool squashfs-tools xsltproc zip zlib1g-dev

jdk8:
sudo apt-get update
sudo apt-get install openjdk-8-jdk
sudo apt-get upgrade

depencies:
sudo apt install -f

Shell commands:
# get the repo command; put it in some directory in your $PATH
sudo curl https://storage.googleapis.com/git-repo-downloads/repo -o /usr/local/bin/repo
sudo chmod a+x /usr/local/bin/repo
cd /where/you/want/to/your/source-tree
mkdir -p cm14/my_tmp
cd cm14
repo init -u git://github.com/LineageOS/android.git -b cm-14.1 --no-clone-bundle --depth=1
cd my_tmp
git clone https://github.com/mcdachpappe/local_manifest.git
cd local_manifest
git checkout cm-14.1
cd ../../.repo
mkdir local_manifests
cd local_manifests
ln -s ../../my_tmp/local_manifest/oneplus3t.xml .
ln -s ../../my_tmp/local_manifest/nlos.xml .
ln -s ../../my_tmp/local_manifest/zz-remove-unused.xml .
cd ../..
ln -s build/core/root.mk ./Makefile
ln -s my_tmp/local_manifest/my_build.sh ./my-build
ln -s my_tmp/local_manifest/my_pick.sh ./my-pick
ln -s my_tmp/local_manifest/my_reset.sh ./my-reset


Syncing (aka download) the sources
----------------------------------

Shell command:
#this takes some time; it's about 52GB to fetch
repo sync -j4 --no-clone-bundle --no-tags --optimized-fetch --prune

When the sync has finished, adjust TARGET_UNOFFICIAL_BUILD_ID
in device/oneplus/oneplus3t/lineage.mk


Building LineageOS
------------------

Shell command:
./my-build

If everything worked wirhout errors, you will get a flashable zip in
out/target/product/oneplus3t/

If not, check make.log for errors.

Congrats, you have just build your own rom!

Happy flashing!
